(function(t){function e(e){for(var i,o,r=e[0],a=e[1],c=e[2],u=0,h=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(l,o)&&l[o]&&h.push(l[o][0]),l[o]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);v&&v(e);while(h.length)h.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],i=!0,r=1;r<s.length;r++){var a=s[r];0!==l[a]&&(i=!1)}i&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var i={},l={app:0},n=[];function o(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=i,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(s,i,function(e){return t[e]}.bind(null,i));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],a=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var v=a;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},1:function(t,e){},2:function(t,e){},"56d7":function(t,e,s){"use strict";s.r(e),s.d(e,"EventBus",(function(){return N}));s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[i("v-app-bar",{attrs:{color:"white"}},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"1"}},[i("v-avatar",[i("img",{attrs:{src:s("cf05")}})])],1),i("v-col",[i("h1",[t._v("Clip of the Month Â© S3vro")])])],1)],1),i("v-spacer"),i("v-tabs",{staticClass:"ml-n9",attrs:{right:"",color:"grey darken-1"},model:{value:t.current_link,callback:function(e){t.current_link=e},expression:"current_link"}},[i("v-tabs-slider",{attrs:{color:"amber lighten-1"}}),t._l(t.links,(function(e){return i("v-tab",{key:e},[t._v(" "+t._s(e)+" ")])}))],2)],1),i("v-main",{staticClass:"grey lighten-3"},[i("Dashboard",{directives:[{name:"show",rawName:"v-show",value:0==t.current_link,expression:"current_link==0"}],attrs:{allClips:t.allClips,settings:t.settings}}),i("AllClips",{directives:[{name:"show",rawName:"v-show",value:1==t.current_link,expression:"current_link==1"}],attrs:{allClips:t.allClips,settings:t.settings}}),i("Settings",{directives:[{name:"show",rawName:"v-show",value:2==t.current_link,expression:"current_link==2"}],attrs:{settings:t.settings}})],1)],1)},n=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-main",{staticClass:"grey lighten-3"},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"8",align:"center",justify:"center"}},[s("v-sheet",{attrs:{"min-height":"392"}},[t.allClips.length>0?s("iframe",{staticStyle:{width:"100%"},attrs:{src:t.getLink(t.allClips[t.currentClip]),height:"394",frameborder:"0",scrolling:"no"}}):t._e(),0==t.allClips.length?s("v-alert",{attrs:{type:"error"}},[t._v("You have to load a set of clips first!")]):t._e()],1)],1),s("v-col",{attrs:{cols:"12",sm:"4"}},[s("v-sheet",{attrs:{rounded:"lg","min-height":"394"}},[void 0!=t.allClips[t.currentClip]?s("div",[s("v-simple-table",[s("tbody",[s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Name")]),s("td",[t._v(t._s(t.allClips[t.currentClip].name))])]),s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Author")]),s("td",[t._v(t._s(t.allClips[t.currentClip].author))])]),s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Game")]),s("td",[t._v(t._s(t.allClips[t.currentClip].game))])]),s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Views")]),s("td",[t._v(t._s(t.allClips[t.currentClip].views))])]),s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Date")]),s("td",[t._v(t._s(t.allClips[t.currentClip].date))])]),s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Votes")]),s("td",[t._v(t._s(t.allClips[t.currentClip].votes))])]),s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Voted")]),s("td",[t._v(t._s(t.allClips[t.currentClip].voted))])]),s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Clip Id")]),s("td",[t._v(t._s(t.currentClip))])])])])],1):t._e()])],1)],1),s("v-divider"),s("v-row",[s("v-col",[s("v-sheet",{attrs:{"min-height":"300",rounded:"lg"}},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"4",align:"center"}},[s("v-btn",{attrs:{color:"red darken-1"},on:{click:function(e){return t.previousClip()}}},[t._v("Previous Clip")])],1),s("v-col",{attrs:{cols:"4",align:"center"}},[s("v-btn",{attrs:{color:"green darken-1"},on:{click:function(e){return t.nextClip()}}},[t._v("Next Clip")])],1),s("v-col",{attrs:{cols:"4",align:"center"}},[s("v-btn",{attrs:{color:"blue darken-1"},on:{click:function(e){return t.openClip(t.currentClip)}}},[t._v("Open Clip")])],1)],1),s("v-row",[s("v-col",{attrs:{cols:"4",align:"center"}},[s("v-btn",{attrs:{color:"blue darken-1"},on:{click:function(e){return t.openBestClip()}}},[t._v("Open Best Clip")])],1),s("v-col",{attrs:{cols:"4",align:"center"}},[t.voting?s("v-btn",{attrs:{color:"red darken-1"},on:{click:function(e){return t.toggleVoting()}}},[t._v("Stop Voting")]):t._e(),t.voting?t._e():s("v-btn",{attrs:{color:"green darken-1"},on:{click:function(e){return t.toggleVoting()}}},[t._v("Start Voting")])],1),s("v-col",{attrs:{cols:"4",align:"center"}},[s("v-btn",{attrs:{color:"red darken-1"},on:{click:function(e){return t.deleteClip()}}},[t._v("Remove Clip")])],1)],1)],1)],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",{attrs:{cols:"5"}},[s("h2",{staticStyle:{color:"#9146ff"}},[t._v("Twitch Chat")]),t.voting?t._e():s("h3",[t._v("The chat will only be shown during voting!")]),t.voting?s("div",{staticStyle:{height:"250px","overflow-y":"auto","border-style":"solid","border-color":"#9146ff"},attrs:{id:"chat_table"}},[s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("tbody",t._l(t.messages,(function(e,i){return s("tr",{key:i},[s("td",[t._v(t._s(e.time))]),s("td",{style:{color:e.color}},[t._v(t._s(e.username))]),s("td",[t._v(t._s(e.message))])])})),0)]},proxy:!0}],null,!1,2713619776)})],1):t._e()])],1)],1)],1)],1)],1),s("v-snackbar",{attrs:{timeout:"2000",bottom:"",color:"error",outlined:""},model:{value:t.emitErrorSnackbar,callback:function(e){t.emitErrorSnackbar=e},expression:"emitErrorSnackbar"}},[t._v(t._s(t.errorText))]),s("v-snackbar",{attrs:{timeout:"2000",bottom:"",color:"success",outlined:""},model:{value:t.emitSuccessSnackbar,callback:function(e){t.emitSuccessSnackbar=e},expression:"emitSuccessSnackbar"}},[t._v(t._s(t.successText))]),s("v-row",{attrs:{justify:"center"}},[s("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.emitVotedDialog,callback:function(e){t.emitVotedDialog=e},expression:"emitVotedDialog"}},[s("v-card",[s("v-card-title",{staticClass:"headline",staticStyle:{color:"#E53935"}},[t._v(" There was already "),s("br"),t._v(" voted for this clip! ")]),s("v-card-text",[t._v("Would you like to overwrite the previous votes by voting for this clip again?")]),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){return t.votedAlertFunc(0)}}},[t._v("No")]),s("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(e){return t.votedAlertFunc(1)}}},[t._v("Yes")])],1)],1)],1)],1)],1)],1)],1)},r=[],a=(s("99af"),s("c975"),s("fb6a"),s("a434"),s("ac1f"),s("1276"),s("3cba")),c={data:function(){return{voting:!1,client:null,currentClip:0,messages:[],emitErrorSnackbar:!1,errorText:"Error",usersVoted:[],successText:"Success",emitSuccessSnackbar:!1,emitVotedDialog:!1}},methods:{toggleVoting:function(){if(this.allClips.length>0)if(this.allClips[this.currentClip].voted)this.emitVotedDialog=!0;else if(this.voting=!this.voting,this.voting)this.connectTwitchChat();else{if(this.disconnectTwitchChat(),this.allClips[this.currentClip].votes>0){var t=this.allClips[this.currentClip];t.voted=!0,t.averageVote=t.votes/t.voters}this.usersVoted=[],this.messages=[]}else this.emitError("You'll have to load your clips before doing this!")},connectTwitchChat:function(){var t={identity:{username:"ClipOfTheMonth",password:"oauth:go86usbee015cydjidz4tc190ufomr"},channels:[this.settings.streamername],connection:{secure:!0,reconncet:!0}};this.client=new a.client(t),this.client.on("message",this.onMessageHandler),this.client.on("connected",this.onConnectedHandler),this.client.connect(),console.log("Starting Connection...")},disconnectTwitchChat:function(){this.client.say(this.settings.streamername,this.settings.votingEndedMessage),this.client.disconnect(),this.client=null,console.log("* Disconnected")},onConnectedHandler:function(t,e){console.log("* Connected to ".concat(t,":").concat(e)),this.client.say(this.settings.streamername,this.settings.votingStartedMessage)},onMessageHandler:function(t,e,s,i){if(!i){var l=e,n=l.username,o=new Date;this.messages.push({username:n,color:l.color,message:s,time:o.getHours()+":"+o.getMinutes()});var r=s.split(" ");if(2==r.length&&"!voteclip"===r[0]){var a=r[1];if("Off"===this.settings.voteOwnClip&&n===this.allClips[this.currentClip].author)return;if(!isNaN(a)){var c=parseInt(a);c<=10&&c>=0&&-1==this.usersVoted.indexOf(n)&&(this.client.say(t,"".concat(n," voted ").concat(c,"/10!")),this.allClips[this.currentClip].votes+=c,this.usersVoted.push(n),this.allClips[this.currentClip].voters+=1)}}this.fixScroll()}},fixScroll:function(){var t=this.$el.querySelector("#chat_table"),e=t.scrollHeight+48;null!=t&&(t.scrollTop=e)},getLink:function(t){return"https://clips.twitch.tv/embed?clip=".concat(t.slug,"&parent=clipofthemonth.github.io")},previousClip:function(){this.voting?this.emitError("You can't do this during vote time! Disable voting to use this button!"):this.allClips.length>0?this.currentClip-1>=0&&(this.currentClip-=1):this.emitError("You'll have to load your clips before doing this!")},nextClip:function(){this.voting?this.emitError("You can't do this during vote time! Disable voting to use this button!"):this.allClips.length>0?this.currentClip+1<this.allClips.length&&(this.currentClip+=1):this.emitError("You'll have to load your clips before doing this!")},openClip:function(t){this.voting?this.emitError("You can't do this during vote time! Disable voting to use this button!"):this.allClips.length>0?window.open(this.allClips[t].url,"_blank"):this.emitError("You'll have to load your clips before doing this!")},emitError:function(t){this.errorText=t,this.emitErrorSnackbar=!0},emitSucces:function(t){this.successText=t,this.emitSuccessSnackbar=!0},deleteClip:function(){this.voting?this.emitError("You can't do this during vote time! Disable voting to use this button!"):this.allClips.length>0?(this.allClips.splice(this.currentClip,1),this.emitSucces("Clip deleted successfully!")):this.emitError("You'll have to load your clips before doing this!")},openBestClip:function(){if(this.voting)this.emitError("You can't do this during vote time! Disable voting to use this button!");else if(this.allClips.length>0){var t=this.allClips.slice();t.sort((function(t,e){return t.averageVote>e.averageVote?-1:1})),this.openClip(this.allClips.indexOf(t[0]))}else this.emitError("You'll have to load your slips before doing this!")},votedAlertFunc:function(t){this.emitVotedDialog=!1,this.voting=!1,t&&(this.allClips[this.currentClip].voted=!1,this.allClips[this.currentClip].votes=0,this.toggleVoting(),this.emitSuccess("The clip was reset successfully!"))}},props:["allClips","settings"]},v=c,u=s("2877"),h=Object(u["a"])(v,o,r,!1,null,null,null),d=h.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-main",{staticClass:"grey lighten-3"},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"2",align:"center"}},[s("v-btn",{attrs:{color:"green darken-1"},on:{click:t.loadClips}},[t._v("Load Clips")])],1),s("v-col",{attrs:{cols:"3"}},[s("v-select",{attrs:{dense:"",items:t.timeOptions,label:"Select time-area",outlined:""},model:{value:t.currentTimeOptions,callback:function(e){t.currentTimeOptions=e},expression:"currentTimeOptions"}})],1),s("v-col",{directives:[{name:"show",rawName:"v-show",value:t.allClips.length>1,expression:"allClips.length > 1"}],staticStyle:{color:"#43A047"},attrs:{cols:"3"}},[s("h3",[t._v(t._s(t.allClips.length)+" clips are currently loaded!")])]),1==t.allClips.length?s("v-col",{staticStyle:{color:"#43A047"},attrs:{cols:"3"}},[s("h3",[t._v(t._s(t.allClips.length)+" clip is currently loaded!")])]):t._e(),0==t.allClips.length?s("v-col",{staticStyle:{color:"#E53935"},attrs:{cols:"3"}},[s("h3",[t._v("No clips loaded!")])]):t._e()],1),s("v-row",[s("v-col",[s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[t._v("Title")]),s("th",{staticClass:"text-left"},[t._v("Clip Autor")]),s("th",{staticClass:"text-left"},[t._v("Views")]),s("th",{staticClass:"text-left"},[t._v("Game")]),s("th",{staticClass:"text-left"},[t._v("Date")]),s("th",{staticClass:"text-left"},[t._v("Voters")]),s("th",{staticClass:"text-left"},[t._v("Rating")]),s("th",{staticClass:"text-left"},[t._v("Voted")])])]),s("tbody",t._l(t.allClips,(function(e,i){return s("tr",{key:i,staticStyle:{cursor:"pointer"},on:{click:function(s){t.loadUrl(t.allClips.indexOf(e))}}},[s("td",[t._v(t._s(e.name))]),s("td",[t._v(t._s(e.author))]),s("td",[t._v(t._s(e.views))]),s("td",[t._v(t._s(e.game))]),s("td",[t._v(t._s(e.date))]),s("td",[t._v(t._s(e.voters))]),s("td",[t._v(t._s(e.averageVote))]),s("td",[t._v(t._s(e.voted))])])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)},g=[],f=(s("b0c0"),{data:function(){return{timeOptions:["Day","Week","Month"],currentTimeOptions:"Month"}},methods:{loadClips:function(){this.allClips.splice(0,this.allClips.length);var t=new XMLHttpRequest;t.open("GET","https://api.twitch.tv/kraken/clips/top?channel=".concat(this.settings.streamername,"&limit=100&period=")+this.currentTimeOptions.toLowerCase(),!1),t.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),t.setRequestHeader("Client-ID","19e3dcu3gcraaro165ldrodkroql1e"),t.send(null);for(var e=t.responseText,s=JSON.parse(e),i=s.clips,l=0;l<i.length;l++){var n=i[l];this.allClips.push({name:n.title,slug:n.slug,url:n.url,author:n.curator.name,views:n.views,game:n.game,date:n.created_at.split("T")[0],votes:0,voted:!1,voters:0,averageVote:0})}},loadUrl:function(t){window.open(this.allClips[t].url,"_blank")}},props:["allClips","settings"]}),m=f,C=Object(u["a"])(m,p,g,!1,null,null,null),_=C.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-main",{staticClass:"grey lighten-3"},[s("v-container",[s("v-sheet",{attrs:{rounded:"lg","min-height":"70vh"}},[s("v-row",[s("v-col",{attrs:{align:"center"}},[s("h1",[t._v("Settings")])])],1),s("v-row",[s("v-col",{attrs:{cols:"1"}}),s("v-col",{attrs:{cols:"3"}},[s("h3",[t._v("Your twitch name:")])]),s("v-col",{attrs:{cols:"4"}},[s("v-text-field",{attrs:{label:"Streamername",outlined:"",dense:""},model:{value:t.settings.streamername,callback:function(e){t.$set(t.settings,"streamername",e)},expression:"settings.streamername"}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"1"}}),s("v-col",{attrs:{cols:"3"}},[s("h3",[t._v("Voting started message:")])]),s("v-col",{attrs:{cols:"4"}},[s("v-text-field",{attrs:{label:"Voting started message",outlined:"",dense:""},model:{value:t.settings.votingStartedMessage,callback:function(e){t.$set(t.settings,"votingStartedMessage",e)},expression:"settings.votingStartedMessage"}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"1"}}),s("v-col",{attrs:{cols:"3"}},[s("h3",[t._v("Voting over message:")])]),s("v-col",{attrs:{cols:"4"}},[s("v-text-field",{attrs:{label:"Voting over message",outlined:"",dense:""},model:{value:t.settings.votingEndedMessage,callback:function(e){t.$set(t.settings,"votingEndedMessage",e)},expression:"settings.votingEndedMessage"}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"1"}}),s("v-col",{attrs:{cols:"3"}},[s("h3",[t._v("Let authors vote own clip")])]),s("v-col",{attrs:{cols:"4"}},[s("v-select",{attrs:{dense:"",items:t.selectOnOf,label:"Vote own clip",outlined:""},model:{value:t.settings.voteOwnClip,callback:function(e){t.$set(t.settings,"voteOwnClip",e)},expression:"settings.voteOwnClip"}})],1)],1),s("v-divider",{attrs:{horizontal:""}}),s("br"),s("v-row",[s("v-col",{attrs:{cols:"1"}}),s("v-col",{attrs:{cols:"10"}},[s("v-card",{attrs:{elevation:"2"}},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"1"}}),s("v-col",[s("h3",[t._v("About")]),t._v(" The Clip of the month tool is developed by S3vro ("),s("a",{attrs:{href:"https://twitch.tv/s3vro"}},[t._v("Twitch")]),t._v(","),s("a",{attrs:{href:"https://twitter.com/Sevr0o"}},[t._v("Twitter")]),t._v("). You are free to use it in your streams, but if so, please credit the creator. "),s("br"),t._v(" If there are any bugs or feature request you can send me a message on Discord: "),s("a",[t._v("S3vro#5133")]),s("br"),t._v(" "),s("br"),t._v(" I hope you enjoy the tool and if you do please let others know! "),s("br"),t._v(" Current site version: 0.8 ")]),s("v-col",{attrs:{cols:"1"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)},w=[],y={data:function(){return{selectOnOf:["On","Off"]}},props:["settings"]},k=y,x=Object(u["a"])(k,b,w,!1,null,null,null),S=x.exports,O={components:{Dashboard:d,AllClips:_,Settings:S},data:function(){return{current_link:null,links:["Dashboard","All Clips","Settings"],allClips:[],settings:{streamername:"s3vro",votingStartedMessage:"/me Voting was started! Type !voteclip <number 0-10> to vote!",votingEndedMessage:"/me Voting is now over!",voteOwnClip:"Off"}}},methods:{}},V=O,T=Object(u["a"])(V,l,n,!1,null,null,null),E=T.exports,M=s("ce5b"),D=s.n(M),j=(s("bf40"),s("0fe0")),Y=s.n(j);i["default"].use(D.a);var A=new D.a({lang:{locales:{de:Y.a},current:"de"}}),N=new i["default"];i["default"].config.productionTip=!1,new i["default"]({vuetify:A,render:function(t){return t(E)}}).$mount("#app")},cf05:function(t,e,s){t.exports=s.p+"img/logo.7efa592c.png"}});