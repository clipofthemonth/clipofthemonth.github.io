(function(t){function e(e){for(var n,r,o=e[0],a=e[1],c=e[2],v=0,p=[];v<o.length;v++)r=o[v],Object.prototype.hasOwnProperty.call(l,r)&&l[r]&&p.push(l[r][0]),l[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],n=!0,o=1;o<s.length;o++){var a=s[o];0!==l[a]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var n={},l={app:0},i=[];function r(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=n,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],a=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=a;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";s("85ec")},1:function(t,e){},2:function(t,e){},"56d7":function(t,e,s){"use strict";s.r(e),s.d(e,"EventBus",(function(){return N}));s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-app-bar",{attrs:{color:"white"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"1"}},[n("v-avatar",[n("img",{attrs:{src:s("cf05")}})])],1),n("v-col",[n("h1",[t._v("Clip of the Month Â© S3vro")])])],1)],1),n("v-spacer"),n("v-tabs",{staticClass:"ml-n9",attrs:{right:"",color:"grey darken-1"},model:{value:t.current_link,callback:function(e){t.current_link=e},expression:"current_link"}},[n("v-tabs-slider",{attrs:{color:"amber lighten-1"}}),t._l(t.links,(function(e){return n("v-tab",{key:e},[t._v(" "+t._s(e)+" ")])}))],2)],1),n("v-main",{staticClass:"grey lighten-3"},[n("Dashboard",{directives:[{name:"show",rawName:"v-show",value:0==t.current_link,expression:"current_link==0"}],attrs:{allClips:t.allClips,settings:t.settings}}),n("AllClips",{directives:[{name:"show",rawName:"v-show",value:1==t.current_link,expression:"current_link==1"}],attrs:{allClips:t.allClips,settings:t.settings}}),n("Settings",{directives:[{name:"show",rawName:"v-show",value:2==t.current_link,expression:"current_link==2"}],attrs:{settings:t.settings}})],1)],1)},i=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-main",{staticClass:"grey lighten-3"},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",sm:"8",align:"center",justify:"center"}},[s("v-sheet",{attrs:{"min-height":"392"}},[t.allClips.length>0?s("iframe",{staticStyle:{width:"100%"},attrs:{src:t.getLink(t.allClips[t.currentClip]),height:"394",frameborder:"0",scrolling:"no"}}):t._e(),0==t.allClips.length?s("v-alert",{attrs:{type:"error"}},[t._v("You have to load a set of clips first!")]):t._e()],1)],1),s("v-col",{attrs:{cols:"12",sm:"4"}},[s("v-sheet",{attrs:{rounded:"lg","min-height":"394"}},[void 0!=t.allClips[t.currentClip]?s("div",[s("v-simple-table",[s("tbody",[s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Name")]),s("td",[t._v(t._s(t.allClips[t.currentClip].name))])]),s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Author")]),s("td",[t._v(t._s(t.allClips[t.currentClip].author))])]),s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Game")]),s("td",[t._v(t._s(t.allClips[t.currentClip].game))])]),s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Views")]),s("td",[t._v(t._s(t.allClips[t.currentClip].views))])]),s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Date")]),s("td",[t._v(t._s(t.allClips[t.currentClip].date))])]),s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Votes")]),s("td",[t._v(t._s(t.allClips[t.currentClip].votes))])]),s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Voted")]),s("td",[t._v(t._s(t.allClips[t.currentClip].voted))])]),s("tr",[s("td",{staticClass:"font-weight-bold"},[t._v("Clip Id")]),s("td",[t._v(t._s(t.currentClip))])])])])],1):t._e()])],1)],1),s("v-divider"),s("v-row",[s("v-col",[s("v-sheet",{attrs:{"min-height":"300",rounded:"lg"}},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"6"}},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"4",align:"center"}},[s("v-btn",{attrs:{color:"red darken-1"},on:{click:function(e){return t.previousClip()}}},[t._v("Previous Clip")])],1),s("v-col",{attrs:{cols:"4",align:"center"}},[s("v-btn",{attrs:{color:"green darken-1"},on:{click:function(e){return t.nextClip()}}},[t._v("Next Clip")])],1),s("v-col",{attrs:{cols:"4",align:"center"}},[s("v-btn",{attrs:{color:"blue darken-1"},on:{click:function(e){return t.openClip(t.currentClip)}}},[t._v("Open Clip")])],1)],1),s("v-row",[s("v-col",{attrs:{cols:"4",align:"center"}},[s("v-btn",{attrs:{color:"blue darken-1"},on:{click:function(e){return t.openBestClip()}}},[t._v("Open Best Clip")])],1),s("v-col",{attrs:{cols:"4",align:"center"}},[t.voting?s("v-btn",{attrs:{color:"red darken-1"},on:{click:function(e){return t.toggleVoting()}}},[t._v("Stop Voting")]):t._e(),t.voting?t._e():s("v-btn",{attrs:{color:"green darken-1"},on:{click:function(e){return t.toggleVoting()}}},[t._v("Start Voting")])],1),s("v-col",{attrs:{cols:"4",align:"center"}},[s("v-btn",{attrs:{color:"red darken-1"},on:{click:function(e){return t.deleteClip()}}},[t._v("Remove Clip")])],1)],1)],1)],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",{attrs:{cols:"5"}},[s("h2",{staticStyle:{color:"#9146ff"}},[t._v("Twitch Chat")]),t.voting?t._e():s("h3",[t._v("The chat will only be shown during voting!")]),t.voting?s("div",{staticStyle:{height:"250px","overflow-y":"auto","border-style":"solid","border-color":"#9146ff"},attrs:{id:"chat_table"}},[s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("tbody",t._l(t.messages,(function(e,n){return s("tr",{key:n},[s("td",[t._v(t._s(e.time))]),s("td",{style:{color:e.color}},[t._v(t._s(e.username))]),s("td",[t._v(t._s(e.message))])])})),0)]},proxy:!0}],null,!1,2713619776)})],1):t._e()])],1)],1)],1)],1)],1),s("v-snackbar",{attrs:{timeout:"2000",bottom:"",color:"error",outlined:""},model:{value:t.emitErrorSnackbar,callback:function(e){t.emitErrorSnackbar=e},expression:"emitErrorSnackbar"}},[t._v(t._s(t.errorText))]),s("v-snackbar",{attrs:{timeout:"2000",bottom:"",color:"success",outlined:""},model:{value:t.emitSuccessSnackbar,callback:function(e){t.emitSuccessSnackbar=e},expression:"emitSuccessSnackbar"}},[t._v(t._s(t.successText))])],1)],1)],1)},o=[],a=(s("99af"),s("c975"),s("fb6a"),s("a434"),s("ac1f"),s("1276"),s("3cba")),c={data:function(){return{clip:[{name:"Name des Clip's",property:"Cooler Clip"},{name:"Autor",property:"TrusterTV"},{name:"Game",property:"Overwatch"},{name:"Views",property:"35"},{name:"Erstellungsdatum",property:"12.05.04"},{name:"Aktueller Platz",property:"1"},{name:"Bewertung",property:"6.5/10"}],voting:!1,client:null,currentClip:0,messages:[],emitErrorSnackbar:!1,errorText:"Error",usersVoted:[],successText:"Success",emitSuccessSnackbar:!1}},methods:{toggleVoting:function(){this.allClips.length>0?this.allClips.voting||(this.voting=!this.voting,this.voting?this.connectTwitchChat():(this.disconnectTwitchChat(),this.allClips[this.currentClip].votes>0&&(this.allClips[this.currentClip].voted=!0),this.usersVoted=[])):this.emitError("You'll have to load your Clips before doing this!")},connectTwitchChat:function(){var t={identity:{username:"ClipOfTheMonth",password:"oauth:go86usbee015cydjidz4tc190ufomr"},channels:[this.settings.streamername],connection:{secure:!0,reconncet:!0}};this.client=new a.client(t),this.client.on("message",this.onMessageHandler),this.client.on("connected",this.onConnectedHandler),this.client.connect(),console.log("Starting Connection...")},disconnectTwitchChat:function(){this.client.say(this.settings.streamername,this.settings.votingEndedMessage),this.client.disconnect(),this.client=null,console.log("* Disconnected")},onConnectedHandler:function(t,e){console.log("* Connected to ".concat(t,":").concat(e)),this.client.say(this.settings.streamername,this.settings.votingStartedMessage)},onMessageHandler:function(t,e,s,n){if(!n){var l=e,i=l.username,r=new Date;this.messages.push({username:i,color:l.color,message:s,time:r.getHours()+":"+r.getMinutes()});var o=s.split(" ");if(2==o.length&&"!voteclip"===o[0]){var a=o[1];if("Off"===this.settings.voteOwnClip&&i===this.allClips[this.currentClip].author)return;if(!isNaN(a)){var c=parseInt(a);c<=10&&c>=0&&-1==this.usersVoted.indexOf(i)&&(this.client.say(t,"".concat(i," voted ").concat(c,"/10!")),this.allClips[this.currentClip].votes+=c,this.usersVoted.push(i))}}this.fixScroll()}},fixScroll:function(){var t=this.$el.querySelector("#chat_table"),e=t.scrollHeight+48;null!=t&&(t.scrollTop=e)},getLink:function(t){return"https://clips.twitch.tv/embed?clip=".concat(t.slug,"&parent=clipofthemonth.github.io")},previousClip:function(){this.voting?this.emitError("You can't do this during vote time! Disable Voting to use this button!"):this.allClips.length>0?this.currentClip-1>=0&&(this.currentClip-=1):this.emitError("You'll have to load your Clips before doing this!")},nextClip:function(){this.voting?this.emitError("You can't do this during vote time! Disable Voting to use this button!"):this.allClips.length>0?this.currentClip+1<this.allClips.length&&(this.currentClip+=1):this.emitError("You'll have to load your Clips before doing this!")},openClip:function(t){this.voting?this.emitError("You can't do this during vote time! Disable Voting to use this button!"):this.allClips.length>0?window.open(this.allClips[t].url,"_blank"):this.emitError("You'll have to load your Clips before doing this!")},emitError:function(t){this.errorText=t,this.emitErrorSnackbar=!0},emitSucces:function(t){this.successText=t,this.emitSuccessSnackbar=!0},deleteClip:function(){this.voting?this.emitError("You can't do this during vote time! Disable Voting to use this button!"):this.allClips.length>0?(this.allClips.splice(this.currentClip,1),this.emitSucces("Clip deleted successfully!")):this.emitError("You'll have to load your Clips before doing this!")},openBestClip:function(){if(this.voting)this.emitError("You can't do this during vote time! Disable Voting to use this button!");else if(this.allClips.length>0){var t=this.allClips.slice();t.sort((function(t,e){return t.votes>e.votes?-1:1})),this.openClip(this.allClips.indexOf(t[0]))}else this.emitError("You'll have to load your Clips before doing this!")}},props:["allClips","settings"]},u=c,v=s("2877"),p=Object(v["a"])(u,r,o,!1,null,null,null),h=p.exports,d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-main",{staticClass:"grey lighten-3"},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"2",align:"center"}},[s("v-btn",{attrs:{color:"green darken-1"},on:{click:t.loadClips}},[t._v("Load Clips")])],1),s("v-col",{attrs:{cols:"3"}},[s("v-select",{attrs:{dense:"",items:t.timeOptions,label:"Select time-area",outlined:""},model:{value:t.currentTimeOptions,callback:function(e){t.currentTimeOptions=e},expression:"currentTimeOptions"}})],1),s("v-col",{directives:[{name:"show",rawName:"v-show",value:t.allClips.length>1,expression:"allClips.length > 1"}],staticStyle:{color:"#43A047"},attrs:{cols:"3"}},[s("h3",[t._v(t._s(t.allClips.length)+" clips are currently loaded!")])]),1==t.allClips.length?s("v-col",{staticStyle:{color:"#43A047"},attrs:{cols:"3"}},[s("h3",[t._v(t._s(t.allClips.length)+" clip is currently loaded!")])]):t._e(),0==t.allClips.length?s("v-col",{staticStyle:{color:"#E53935"},attrs:{cols:"3"}},[s("h3",[t._v("No clips loaded!")])]):t._e()],1),s("v-row",[s("v-col",[s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-left"},[t._v("Title")]),s("th",{staticClass:"text-left"},[t._v("Clip Autor")]),s("th",{staticClass:"text-left"},[t._v("Views")]),s("th",{staticClass:"text-left"},[t._v("Game")]),s("th",{staticClass:"text-left"},[t._v("Date")]),s("th",{staticClass:"text-left"},[t._v("Votes")]),s("th",{staticClass:"text-left"},[t._v("Voted")])])]),s("tbody",t._l(t.allClips,(function(e,n){return s("tr",{key:n,staticStyle:{cursor:"pointer"},on:{click:function(s){t.loadUrl(t.allClips.indexOf(e))}}},[s("td",[t._v(t._s(e.name))]),s("td",[t._v(t._s(e.author))]),s("td",[t._v(t._s(e.views))]),s("td",[t._v(t._s(e.game))]),s("td",[t._v(t._s(e.date))]),s("td",[t._v(t._s(e.votes))]),s("td",[t._v(t._s(e.voted))])])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1)},g=[],f=(s("b0c0"),{data:function(){return{timeOptions:["Day","Week","Month"],currentTimeOptions:"Month"}},methods:{loadClips:function(){this.allClips.splice(0,this.allClips.length);var t=new XMLHttpRequest;t.open("GET","https://api.twitch.tv/kraken/clips/top?channel=".concat(this.settings.streamername,"&limit=100&period=")+this.currentTimeOptions.toLowerCase(),!1),t.setRequestHeader("Accept","application/vnd.twitchtv.v5+json"),t.setRequestHeader("Client-ID","19e3dcu3gcraaro165ldrodkroql1e"),t.send(null);for(var e=t.responseText,s=JSON.parse(e),n=s.clips,l=0;l<n.length;l++){var i=n[l];this.allClips.push({name:i.title,slug:i.slug,url:i.url,author:i.curator.name,views:i.views,game:i.game,date:i.created_at.split("T")[0],votes:0,voted:!1})}},loadUrl:function(t){window.open(this.allClips[t].url,"_blank")}},props:["allClips","settings"]}),m=f,C=Object(v["a"])(m,d,g,!1,null,null,null),_=C.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-main",{staticClass:"grey lighten-3"},[s("v-container",[s("v-sheet",{attrs:{rounded:"lg","min-height":"70vh"}},[s("v-row",[s("v-col",{attrs:{align:"center"}},[s("h1",[t._v("Settings")])])],1),s("v-row",[s("v-col",{attrs:{cols:"1"}}),s("v-col",{attrs:{cols:"3"}},[s("h3",[t._v("Your twitch name:")])]),s("v-col",{attrs:{cols:"4"}},[s("v-text-field",{attrs:{label:"Streamername",outlined:"",dense:""},model:{value:t.settings.streamername,callback:function(e){t.$set(t.settings,"streamername",e)},expression:"settings.streamername"}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"1"}}),s("v-col",{attrs:{cols:"3"}},[s("h3",[t._v("Voting started message:")])]),s("v-col",{attrs:{cols:"4"}},[s("v-text-field",{attrs:{label:"Voting started message",outlined:"",dense:""},model:{value:t.settings.votingStartedMessage,callback:function(e){t.$set(t.settings,"votingStartedMessage",e)},expression:"settings.votingStartedMessage"}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"1"}}),s("v-col",{attrs:{cols:"3"}},[s("h3",[t._v("Voting over message:")])]),s("v-col",{attrs:{cols:"4"}},[s("v-text-field",{attrs:{label:"Voting over message",outlined:"",dense:""},model:{value:t.settings.votingEndedMessage,callback:function(e){t.$set(t.settings,"votingEndedMessage",e)},expression:"settings.votingEndedMessage"}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"1"}}),s("v-col",{attrs:{cols:"3"}},[s("h3",[t._v("Let authors vote own clip")])]),s("v-col",{attrs:{cols:"4"}},[s("v-select",{attrs:{items:t.selectOnOf,label:"Vote own clip",outlined:""},model:{value:t.settings.voteOwnClip,callback:function(e){t.$set(t.settings,"voteOwnClip",e)},expression:"settings.voteOwnClip"}})],1)],1),s("v-divider",{attrs:{horizontal:""}}),s("br"),s("v-row",[s("v-col",{attrs:{cols:"1"}}),s("v-col",{attrs:{cols:"10"}},[s("v-card",{attrs:{elevation:"2"}},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"1"}}),s("v-col",[s("h3",[t._v("About")]),t._v(" The Clip of the month tool is developed by S3vro ("),s("a",{attrs:{href:"https://twitch.tv/s3vro"}},[t._v("Twitch")]),t._v(","),s("a",{attrs:{href:"https://twitter.com/Sevr0o"}},[t._v("Twitter")]),t._v("). You are free to use it in your streams, but if so, please credit the creator. "),s("br"),t._v(" If there are any bugs or feature request you can message on Discord: "),s("a",[t._v("S3vro#5133")]),s("br"),t._v(" "),s("br"),t._v(" I hope you enjoy the tool and if you do please let others know! ")]),s("v-col",{attrs:{cols:"1"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)},w=[],y={data:function(){return{selectOnOf:["On","Off"]}},props:["settings"]},k=y,S=Object(v["a"])(k,b,w,!1,null,null,null),x=S.exports,O={components:{Dashboard:h,AllClips:_,Settings:x},data:function(){return{current_link:null,links:["Dashboard","All Clips","Settings"],allClips:[],settings:{streamername:"s3vro",votingStartedMessage:"/me Voting was started! Type !voteclip <number 0-10> to vote!",votingEndedMessage:"/me Voting is now over!",voteOwnClip:"Off"}}},methods:{}},T=O,E=(s("034f"),Object(v["a"])(T,l,i,!1,null,null,null)),V=E.exports,M=s("ce5b"),j=s.n(M),D=(s("bf40"),s("0fe0")),Y=s.n(D);n["default"].use(j.a);var A=new j.a({lang:{locales:{de:Y.a},current:"de"}}),N=new n["default"];n["default"].config.productionTip=!1,new n["default"]({vuetify:A,render:function(t){return t(V)}}).$mount("#app")},"85ec":function(t,e,s){},cf05:function(t,e,s){t.exports=s.p+"img/logo.7efa592c.png"}});
//# sourceMappingURL=app.deabc5db.js.map